"use strict";(self.webpackChunktiktok=self.webpackChunktiktok||[]).push([[274],{2274:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});var s=l(1413),t=l(4165),o=l(5861),i=l(9439),n=l(2791),c=l(1134),r=l(7689),d=l(193),p=l(2790),m=l(3911),u=l(3066),h={"upload-wrapper":"Upload_upload-wrapper__KhYwa","upload-container":"Upload_upload-container__Z8n9s","upload-title":"Upload_upload-title__dyA42","upload-sub-title":"Upload_upload-sub-title__pt8vl",span:"Upload_span__s9SFI","upload-content":"Upload_upload-content__D93kP","upload-content-left":"Upload_upload-content-left__cBIpq",input:"Upload_input__AEJK8","upload-state":"Upload_upload-state__haPxE","upload-state-title":"Upload_upload-state-title__akmgP","upload-state-sub-title":"Upload_upload-state-sub-title__KIdGK","upload-state-notice":"Upload_upload-state-notice__yPKAE","select-file":"Upload_select-file__gn5CJ",preview:"Upload_preview__SIc-u","preview-v2":"Upload_preview-v2__YTKQc","video-preview":"Upload_video-preview__H-Yh7","phone-preview":"Upload_phone-preview__oA5WQ","upload-content-right":"Upload_upload-content-right__39zPr","form-item":"Upload_form-item__Ym7E3","form-header":"Upload_form-header__ISe1a","form-label":"Upload_form-label__BvQ22","form-count":"Upload_form-count__7Xowe","form-footer":"Upload_form-footer__rxWhm","form-textarea":"Upload_form-textarea__YWHTe","form-input":"Upload_form-input__3AdWN","form-select":"Upload_form-select__BJ1kW","form-checkbox":"Upload_form-checkbox__cDA9O",label:"Upload_label__FCXEU","button-container":"Upload_button-container__HyKTA",button:"Upload_button__cR7pc",discard:"Upload_discard__Q1B-e"},_=l(184);var f=function(){var e=(0,n.useState)(""),a=(0,i.Z)(e,2),l=a[0],f=a[1],x=(0,n.useState)(""),v=(0,i.Z)(x,2),j=v[0],N=v[1],b=(0,n.useState)(""),w=(0,i.Z)(b,2),U=w[0],k=w[1],Z=(0,c.cI)(),y=Z.register,g=Z.handleSubmit,S=(0,n.useState)(!1),C=(0,i.Z)(S,2),F=C[0],P=C[1],A=(0,r.s0)(),I=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,u.At(a);case 3:P(!1),A("/");case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,_.jsx)("form",{onSubmit:g((function(e){var a=new FormData;a.append("video",new Blob([JSON.stringify(e)],{type:"application/json"})),a.append("upFile",j),I(a)})),className:h["upload-wrapper"],children:(0,_.jsxs)("div",{className:h["upload-container"],children:[(0,_.jsx)("span",{className:h["upload-title"],children:"Upload video"}),(0,_.jsx)("div",{className:h["upload-sub-title"],children:(0,_.jsx)("span",{className:h.span,children:"Post a video to your account"})}),(0,_.jsxs)("div",{className:h["upload-content"],children:[(0,_.jsxs)("div",{className:"".concat(j?h.preview:h["upload-content-left"]),children:[(0,_.jsx)("label",{htmlFor:"upload_file",children:(0,_.jsx)("div",{className:h["upload-state"],children:j?(0,_.jsxs)("div",{className:h["preview-v2"],children:[(0,_.jsx)("video",{className:h["video-preview"],src:l,autoPlay:!0,preload:"auto",playsInline:"",crossOrigin:"anonymous",loop:!0,type:"video/*",controls:!0}),(0,_.jsx)("div",{className:h["phone-preview"]})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.rG,{}),(0,_.jsx)("span",{className:h["upload-state-title"],children:"Select video to upload"}),(0,_.jsx)("span",{className:h["upload-state-sub-title"],children:"Or drag and drop a file"}),(0,_.jsx)("span",{className:h["upload-state-notice"],children:"MP4 or WebM"}),(0,_.jsx)("span",{className:h["upload-state-notice"],children:"720x1280 resolution or higher"}),(0,_.jsx)("span",{className:h["upload-state-notice"],children:"Up to 10 minutes"}),(0,_.jsx)("span",{className:h["upload-state-notice"],children:"Less than 2 GB"}),(0,_.jsx)(d.Z,{primary:!0,noAction:!0,className:h["select-file"],children:(0,_.jsx)("span",{className:h.span,children:" Select File"})})]})})}),(0,_.jsx)("input",{className:h.input,onChange:function(e){var a=URL.createObjectURL(e.target.files[0]);f(a),N(e.target.files[0])},name:"upload_file",id:"upload_file",required:!0,type:"file",accept:"video/*"})]}),(0,_.jsxs)("div",{className:h["upload-content-right"],children:[(0,_.jsxs)("div",{className:h["form-item"],children:[(0,_.jsxs)("div",{className:h["form-header"],children:[(0,_.jsx)("span",{className:h["form-label"],children:"Caption"}),(0,_.jsxs)("span",{className:h["form-count"],children:[U.length," / 150"]})]}),(0,_.jsx)("div",{className:h["form-footer"],children:(0,_.jsx)("textarea",(0,s.Z)((0,s.Z)({maxLength:150,name:"description",id:"description"},y("description")),{},{value:U,onChange:function(e){return k(e.target.value)},className:h["form-textarea"]}))})]}),(0,_.jsxs)("div",{className:h["form-item"],children:[(0,_.jsx)("div",{className:h["form-header"],children:(0,_.jsx)("span",{className:h["form-label"],children:"Cover"})}),(0,_.jsx)("div",{className:h["form-footer"],children:(0,_.jsx)("input",(0,s.Z)((0,s.Z)({className:h["form-input"],name:"thumbnail_time",id:"thumbnail_time"},y("thumbnail_time")),{},{type:"number",placeholder:"Thumbnail capture position, units of seconds (Ex: 2)",defaultValue:1}))})]}),(0,_.jsxs)("div",{className:h["form-item"],children:[(0,_.jsx)("div",{className:h["form-header"],children:(0,_.jsx)("span",{className:h["form-label"],children:"Music"})}),(0,_.jsx)("div",{className:h["form-footer"],children:(0,_.jsx)("input",(0,s.Z)({className:h["form-input"],name:"music",id:"music",type:"text",placeholder:"Music"},y("music")))})]}),(0,_.jsxs)("div",{className:h["form-item"],children:[(0,_.jsx)("div",{className:h["form-header"],children:(0,_.jsx)("span",{className:h["form-label"],children:"Who can watch this video"})}),(0,_.jsx)("div",{className:h["form-footer"],children:(0,_.jsxs)("select",(0,s.Z)((0,s.Z)({className:h["form-select"],name:"viewable",id:"viewable"},y("viewable")),{},{children:[(0,_.jsx)("option",{value:"public",children:"Public"}),(0,_.jsx)("option",{value:"friends",children:"Friends"}),(0,_.jsx)("option",{value:"private",children:"Private"})]}))})]}),(0,_.jsxs)("div",{className:h["form-item"],children:[(0,_.jsx)("div",{className:h["form-header"],children:(0,_.jsx)("span",{className:h["form-label"],children:"Allow users to:"})}),(0,_.jsxs)("div",{className:h["form-footer"],children:[(0,_.jsxs)("div",{className:h["form-checkbox"],children:[(0,_.jsx)("input",(0,s.Z)({className:h.input,value:"comment",type:"checkbox",name:"allows",id:"allows",defaultChecked:!0},y("allows"))),(0,_.jsx)("label",{className:h.label,htmlFor:"",children:"Comment"})]}),(0,_.jsxs)("div",{className:h["form-checkbox"],children:[(0,_.jsx)("input",(0,s.Z)({value:"duet",type:"checkbox",name:"allows",id:"allows",defaultChecked:!0},y("allows"))),(0,_.jsx)("label",{className:h.label,htmlFor:"",children:"Duet"})]}),(0,_.jsxs)("div",{className:h["form-checkbox"],children:[(0,_.jsx)("input",(0,s.Z)({value:"stitch",type:"checkbox",name:"allows",id:"allows",defaultChecked:!0},y("allows"))),(0,_.jsx)("label",{className:h.label,htmlFor:"",children:"Stitch"})]})]})]}),(0,_.jsxs)("div",{className:h["button-container"],children:[(0,_.jsx)(d.Z,{text:!0,className:"".concat(h.discard," ").concat(h.button),children:"Discard"}),(0,_.jsx)(d.Z,{primary:!0,disabled:!j||F,className:"".concat(h.post," ").concat(h.button),type:"submit",leftIcon:F?(0,_.jsx)(p.Z,{}):null,children:!F&&"Post"})]})]})]})]})})}}}]);
//# sourceMappingURL=274.3bbbde5a.chunk.js.map