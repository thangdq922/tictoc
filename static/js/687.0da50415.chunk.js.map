{"version":3,"file":"static/js/687.0da50415.chunk.js","mappings":"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","sources":["hooks/auth/useEdit.js","webpack://tiktok/./src/pages/Default/Setting/Setting.module.css?862c","pages/Default/Setting/Setting.js"],"sourcesContent":["import { userEdit } from \"../../services/user/usersService\"\r\nimport { useMutation } from \"@tanstack/react-query\";\r\n\r\n\r\nfunction useEdit() {\r\n\r\n    const loginMutation = useMutation({\r\n        mutationFn: (data) => {\r\n            return userEdit(data)\r\n        },\r\n        onSuccess: (data) => {\r\n            localStorage.setItem(\"user\", JSON.stringify(data));\r\n            window.location.reload()\r\n        },\r\n       \r\n    })\r\n\r\n    return loginMutation\r\n}\r\n\r\nexport default useEdit","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Setting_container__C3YKM\",\"divContainer\":\"Setting_divContainer__uk-AB\",\"wrapper\":\"Setting_wrapper__dMPBI\",\"sidebar_scrollbar\":\"Setting_sidebar_scrollbar__-Yyib\",\"contentContainer\":\"Setting_contentContainer__2jajZ\",\"title\":\"Setting_title__NM9iR\",\"content\":\"Setting_content__1RhlR\",\"label\":\"Setting_label__F-ZaQ\",\"inputContainer\":\"Setting_inputContainer__YOZLu\",\"input\":\"Setting_input__-kxFZ\",\"subtitle\":\"Setting_subtitle__fVDt6\",\"option\":\"Setting_option__GqY-8\",\"deleteBtn\":\"Setting_deleteBtn__HVrAB\",\"hr\":\"Setting_hr__ZVBPr\"};","import { useForm } from 'react-hook-form'\r\n\r\nimport config from '../../../config'\r\nimport { UserIcon } from '../../../component/Icons'\r\nimport { MenuItem } from '../../../layouts/Common/Sidebar/Menu'\r\nimport Menu from '../../../layouts/Common/Sidebar/Menu/Menu'\r\nimport styles from './Setting.module.css'\r\nimport { getUser, removeUser } from '../../../hooks/auth/user.localstore'\r\nimport Button from '../../../component/Button/Button'\r\nimport useEdit from '../../../hooks/auth/useEdit'\r\nimport * as usersService from '../../../services/user/usersService'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nfunction Setting() {\r\n    const userCurrent = getUser()?.data\r\n    const navigate = useNavigate();\r\n    const userEdit = useEdit()\r\n    const defaultValues = {\r\n        userName: userCurrent?.phone,\r\n        email: userCurrent?.email,\r\n        birthDay: userCurrent?.birthDay\r\n    }\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { isDirty }\r\n    } = useForm({ defaultValues: defaultValues });\r\n\r\n    const submitForm = (data) => {\r\n        const formData = new FormData();\r\n        formData.append('user', new Blob([JSON.stringify(data)], {\r\n            type: \"application/json\"\r\n        }));\r\n        userEdit.mutate(formData)\r\n    }\r\n\r\n    const deleteAccount = async () => {\r\n        await usersService.deleteUser(userCurrent.id)\r\n        removeUser()\r\n        return navigate(\"/\")\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.divContainer}>\r\n                <div className={styles.wrapper}>\r\n                    <div className={styles.sidebar_scrollbar}>\r\n                        <Menu>\r\n                            <MenuItem to={config.setting} icon={<UserIcon />}>Account management</MenuItem>\r\n                            {/* <MenuItem icon={<BiLock size={27} style={{ marginRight: 7 }} />}  >Privacy</MenuItem> */}\r\n                        </Menu>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.contentContainer}>\r\n                    <div className={styles.title}>\r\n                        Account management\r\n                    </div>\r\n\r\n                    <div style={{ marginBottom: 100 }}>\r\n                        <hr className={styles.hr} />\r\n                        <div className={styles.content} >\r\n                            <div data-e2e=\"manage-account-item\">\r\n                                <div data-e2e=\"account-control-text\" className={styles.subtitle}>\r\n                                    <font style={{ verticalAlign: 'inherit' }}>\r\n                                        <font style={{ verticalAlign: 'inherit' }}>Account control</font>\r\n                                    </font>\r\n                                </div>\r\n                                <div data-e2e=\"delete-account-option\" className={styles.option}>\r\n                                    <font style={{ verticalAlign: 'inherit' }}>\r\n                                        <font style={{ verticalAlign: 'inherit' }}>Delete Account</font>\r\n                                    </font>\r\n                                </div>\r\n                                <button className={styles.deleteBtn} onClick={deleteAccount}>\r\n                                    <font style={{ verticalAlign: 'inherit' }}>\r\n                                        <font style={{ verticalAlign: 'inherit' }}>Delete</font>\r\n                                    </font>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <hr className={styles.hr} />\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSubmit(submitForm)}>\r\n                        <div className={styles.content}>\r\n                            <div className={styles.label}>\r\n                                Phone\r\n                            </div>\r\n                            <div className={styles.inputContainer}>\r\n                                <input\r\n                                    placeholder=\"888 888 8888\"\r\n                                    pattern=\"[0-9]{3} [0-9]{3} [0-9]{4}\"\r\n                                    maxLength=\"12\"\r\n                                    className={styles.input}\r\n                                    defaultValue={defaultValues.phone}\r\n                                // {...register(\"Phone\")}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.content}>\r\n                            <div className={styles.label}>\r\n                                Email\r\n                            </div>\r\n                            <div className={styles.inputContainer}>\r\n                                <input\r\n                                    placeholder=\"Email\"\r\n                                    type='email'\r\n                                    className={styles.input}\r\n                                    defaultValue={defaultValues.email}\r\n                                    {...register(\"email\")}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.content}>\r\n                            <div className={styles.label}>\r\n                                BirthDay\r\n                            </div>\r\n                            <div className={styles.inputContainer} >\r\n                                <input\r\n                                    style={{ cursor: 'pointer' }}\r\n                                    placeholder=\"BirthDay\"\r\n                                    type='date'\r\n                                    className={styles.input}\r\n                                    defaultValue={defaultValues.birthDay}\r\n                                    {...register(\"birthDay\")}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <hr className={styles.hr} />\r\n                        <div className={styles.content} style={{ left: 560 }}>\r\n                            <Button primary disabled={!isDirty}>\r\n                                Save\r\n                            </Button>\r\n\r\n                        </div>\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Setting"],"names":["useMutation","mutationFn","data","userEdit","onSuccess","localStorage","setItem","JSON","stringify","window","location","reload","_getUser","userCurrent","getUser","navigate","useNavigate","useEdit","defaultValues","userName","phone","email","birthDay","_useForm","useForm","register","handleSubmit","isDirty","formState","deleteAccount","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","usersService","id","removeUser","abrupt","stop","apply","arguments","_jsx","className","styles","children","_jsxs","Menu","MenuItem","to","config","setting","icon","UserIcon","style","marginBottom","verticalAlign","onClick","onSubmit","formData","FormData","append","Blob","type","mutate","placeholder","pattern","maxLength","defaultValue","_objectSpread","cursor","left","Button","primary","disabled"],"sourceRoot":""}