"use strict";(self.webpackChunktiktok=self.webpackChunktiktok||[]).push([[658],{1658:function(e,r,n){n.r(r),n.d(r,{default:function(){return F}});var t=n(3433),s=n(4165),a=n(5861),i=n(9439),u=n(2917),o=n(2791),c=n(4771),l="Following_wrapper__CM28J",d="Following_list-video-container__QdPPR",_=n(1084),p=n(2790),g=n(2552),h=n(3346),v=n(203),f=n(5986),x=n(5605),m=n(1087),j="SuggestedVideo_video-container__y-hVQ",Z="SuggestedVideo_link__jX2fr",V="SuggestedVideo_video-wrapper__uqt0u",N="SuggestedVideo_video__2qxsg",k="SuggestedVideo_info-container__xVp88",w="SuggestedVideo_avatar__Xq5GR",S="SuggestedVideo_img__wPA0c",y="SuggestedVideo_userName__C+ToP",b="SuggestedVideo_name__lxu4q",q="SuggestedVideo_span__CM323",C="SuggestedVideo_check__L8ajZ",L="SuggestedVideo_button__4sUC6",M=n(4944),P=n(184);var E=function(e){var r=e.user;return(0,P.jsx)("div",{className:j,children:(0,P.jsxs)("div",{className:Z,children:[(0,P.jsx)(m.rU,{to:f.Z.profileLink(r.userName),target:"_blank",className:V,children:r.popularVideo&&(0,P.jsx)("video",{className:N,src:r.popularVideo.fileUrl,muted:!0,loop:!0,onMouseEnter:function(e){e.target.play()},onMouseLeave:function(e){e.target.pause(),e.target.currentTime=0},poster:r.popularVideo.thumb_url})}),(0,P.jsxs)("div",{className:k,children:[(0,P.jsxs)(m.rU,{to:f.Z.profileLink(r.userName),target:"_blank",children:[(0,P.jsx)("span",{className:w,children:(0,P.jsx)(x.Z,{alt:"avatar",src:r.avatar,className:S})}),(0,P.jsx)("h3",{className:y,children:r.userName}),(0,P.jsxs)("h4",{className:b,children:[(0,P.jsxs)("span",{className:q,children:[" ",r.name]}),(0,P.jsx)(v.ETl,{className:C})]})]}),(0,P.jsx)(M.Z,{children:(0,P.jsx)("button",{className:L,children:"Follow"})})]})]})})};var F=function(){var e,r=(0,o.useState)([]),n=(0,i.Z)(r,2),v=n[0],f=n[1],x=(0,o.useState)(!0),m=(0,i.Z)(x,2),j=m[0],Z=m[1],V=(0,o.useState)(1),N=(0,i.Z)(V,2),k=N[0],w=N[1],S=null===(e=(0,h.PR)())||void 0===e?void 0:e.data,y=(0,u.a)({queryKey:["userRecommend"],queryFn:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.VE(k,15);case 2:return(r=e.sent).length<30&&Z(!1),f(r),e.abrupt("return",v);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),b=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.VE(k,15);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:r=e.sent,f([].concat((0,t.Z)(v),(0,t.Z)(r))),0===r.length&&Z(!1),w((function(e){return e+1}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y.isLoading?(0,P.jsx)(p.Z,{}):(0,P.jsx)("div",{className:l,children:S?(0,P.jsx)(g.Z,{type:"following"}):(0,P.jsx)(c.Z,{dataLength:v.length,next:q,hasMore:j,loader:(0,P.jsx)(p.Z,{}),endMessage:(0,P.jsx)("h4",{children:"Yay! You have seen it all"}),style:{overflow:"inherit"},children:(0,P.jsx)("div",{className:d,children:null===v||void 0===v?void 0:v.map((function(e){return(0,P.jsx)(E,{user:e},e.id)}))})})})}}}]);
//# sourceMappingURL=658.6c63baa0.chunk.js.map