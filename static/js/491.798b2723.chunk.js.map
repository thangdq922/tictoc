{"version":3,"file":"static/js/491.798b2723.chunk.js","mappings":"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","sources":["webpack://tiktok/./src/pages/Default/Search/SearchPage.module.css?eef5","pages/Default/Search/SearchPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"SearchPage_wrapper__zqphS\",\"list-container\":\"SearchPage_list-container__PdHM+\",\"searchTab\":\"SearchPage_searchTab__ozCrt\",\"listTab\":\"SearchPage_listTab__lclgR\",\"tabItem\":\"SearchPage_tabItem__FYA59\",\"active\":\"SearchPage_active__KVw+A\",\"video-container\":\"SearchPage_video-container__Ok0ea\",\"link\":\"SearchPage_link__UTZo1\",\"video-wrapper\":\"SearchPage_video-wrapper__n0aot\",\"video\":\"SearchPage_video__WKFtd\",\"info-container\":\"SearchPage_info-container__9sA7y\",\"info-wrapper\":\"SearchPage_info-wrapper__SNjBQ\",\"video-caption\":\"SearchPage_video-caption__8oQaG\",\"container\":\"SearchPage_container__HWMbC\",\"playLine\":\"SearchPage_playLine__bzFYa\",\"userInfo\":\"SearchPage_userInfo__4BG62\",\"avatarContainer\":\"SearchPage_avatarContainer__R6FRv\",\"img\":\"SearchPage_img__JkYcl\",\"userName\":\"SearchPage_userName__43NZq\",\"viewCount\":\"SearchPage_viewCount__cLAZS\",\"account\":\"SearchPage_account__RLjPE\",\"avatar-container\":\"SearchPage_avatar-container__GKbk-\",\"account-info\":\"SearchPage_account-info__5jB92\",\"subtitle\":\"SearchPage_subtitle__SVmoR\",\"name\":\"SearchPage_name__wx+bP\",\"follow-count\":\"SearchPage_follow-count__5Qp87\",\"error\":\"SearchPage_error__Mixf2\",\"title\":\"SearchPage_title__umRu7\"};","import { Link, NavLink, useLocation, useSearchParams } from 'react-router-dom';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { FaCircleCheck } from 'react-icons/fa6'\r\nimport { FiPlay } from 'react-icons/fi'\r\n\r\nimport config from '../../../config';\r\nimport styles from './SearchPage.module.css'\r\nimport Loader from '../../../component/Loader';\r\nimport * as searchService from '../../../services/searchService';\r\nimport Image from '../../../component/Image/Image';\r\nimport { MusicIcon, SearchErrorIcon } from '../../../component/Icons';\r\n\r\n\r\nfunction SearchPage() {\r\n\r\n\r\n    const [searchParams] = useSearchParams();\r\n    const location = useLocation()\r\n\r\n    const switchs = location.pathname\r\n    const query = searchParams.get('q')\r\n\r\n    const { isLoading, data: users } = useQuery({\r\n        queryKey: ['userSearch', query],\r\n        queryFn: () => searchService.searchUser(query, 'more'),\r\n    })\r\n\r\n    const { data: videos } = useQuery({\r\n        queryKey: ['videoSearch', query],\r\n        queryFn: async () => await searchService.searchVideo(query, 'more'),\r\n    })\r\n\r\n\r\n    const handleVideoPlay = (e) => {\r\n        e.target.play();\r\n    };\r\n\r\n    const handleVideoPause = (e) => {\r\n        e.target.pause();\r\n        e.target.currentTime = 0;\r\n    };\r\n\r\n    if (isLoading) {\r\n        return <Loader />;\r\n    }\r\n\r\n    if (query === null || query === '') {\r\n        return (\r\n            <div className={styles.error}>\r\n                <SearchErrorIcon />\r\n                <h2 className={styles.title} >Không tìm thấy kết quả dành cho \"\"</h2>\r\n                <p >Kiểm tra chính tả hoặc thử một tìm kiếm khác.</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles['list-container']}>\r\n\r\n                <div className={styles.searchTab}>\r\n                    <div className={styles.listTab}>\r\n                        <NavLink\r\n                            to={config.searchLink(query, 'video')}\r\n                            className={({ isActive }) => [styles.tabItem, isActive && styles.active].join(' ')}>\r\n                            <span>Video</span>\r\n                        </NavLink>\r\n                        <NavLink\r\n                            to={config.searchLink(query, 'user')}\r\n                            className={({ isActive }) => [styles.tabItem, isActive && styles.active].join(' ')}>\r\n                            <span>Account </span>\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n\r\n                {switchs === '/search/video' ?\r\n                    videos?.map((video) => (\r\n                        <div className={styles['video-container']} key={video.id}>\r\n                            <Link\r\n                                className={styles.link}\r\n                                to={config.videoLink(video)}\r\n                                state={{\r\n                                    videoDetail: true,\r\n                                    video: video,\r\n                                    prevPath: location.pathname + location.search,\r\n                                    openModel: true,\r\n                                }}\r\n                            >\r\n                                <div className={styles['video-wrapper']}>\r\n                                    <video\r\n                                        className={styles.video}\r\n                                        src={video.fileUrl}\r\n                                        muted\r\n                                        loop\r\n                                        onMouseEnter={handleVideoPlay}\r\n                                        onMouseLeave={handleVideoPause}\r\n                                        poster={video.thumbUrl}\r\n                                    />\r\n                                </div>\r\n                            </Link>\r\n                            <div className={styles['info-container']}>\r\n                                <div className={styles['info-wrapper']}>\r\n                                    <div className={styles['video-caption']}>\r\n                                        <div className={styles.container}>\r\n                                            <Link\r\n                                                to={config.videoLink(video)}\r\n                                                state={{\r\n                                                    videoDetail: true,\r\n                                                    video: video,\r\n                                                    prevPath: location.pathname + location.search,\r\n                                                    openModel: true,\r\n                                                }}\r\n                                            >\r\n\r\n                                                <span style={{ fontWeight: 400 }}>{video.caption}</span>\r\n                                            </Link>\r\n                                            <p>\r\n                                                <MusicIcon />\r\n                                                <Link style={{ fontWeight: 600, color: 'rgb(15 88 223)' }}>\r\n                                                    #{video.music || `Nhạc nền - ${video.user.userName}`}\r\n                                                </Link>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={styles.playLine}>\r\n                                        <Link className={styles.userInfo} to={config.profileLink(video.user.userName)}>\r\n                                            <span className={styles.avatarContainer}>\r\n                                                <Image src={video.user.avatar} alt=\"userAva\" className={styles.img} />\r\n                                            </span>\r\n                                            <p className={styles.userName}>{video.user.userName}</p>\r\n                                            <FaCircleCheck\r\n                                                style={{ marginLeft: 4, fontSize: 16, color: 'rgb(32, 213, 236)' }} />\r\n                                        </Link>\r\n                                        <div className={styles.viewCount}>\r\n                                            <FiPlay style={{ verticalAlign: 'middle', marginRight: 4, color: 'black' }} />\r\n                                            <strong>{video.viewsCount}</strong>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                    : users?.map((user) =>\r\n                        <Link className={styles.account} to={config.profileLink(user.userName)} key={user.id}>\r\n                            <div className={styles['avatar-container']}>\r\n                                <Image src={user.avatar} className={styles.img} />\r\n                            </div>\r\n                            <div className={styles['account-info']}>\r\n                                <p className={styles.userName}>{user.userName}</p>\r\n                                <div className={styles.subtitle}>\r\n                                    <p className={styles.name}>{user.name} </p>\r\n                                    &bull;\r\n                                    <strong className={styles['follow-count']}>\r\n                                        {user.followersCount}\r\n                                        <span style={{ fontWeight: 400 }}> Follower </span>\r\n                                    </strong>\r\n                                    <p className={styles['account-desc']} style={{ marginTop: 4 }}>\r\n                                        {user.bio}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </Link>\r\n                    )}\r\n            </div >\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default SearchPage"],"names":["_useSearchParams","useSearchParams","searchParams","_slicedToArray","location","useLocation","switchs","pathname","query","get","_useQuery","useQuery","queryKey","queryFn","searchService","isLoading","users","data","_useQuery2","_queryFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","sent","stop","apply","arguments","videos","handleVideoPlay","e","target","play","handleVideoPause","pause","currentTime","_jsx","Loader","_jsxs","className","styles","error","children","SearchErrorIcon","title","wrapper","searchTab","listTab","NavLink","to","config","searchLink","_ref","isActive","tabItem","active","join","_ref2","map","video","Link","link","videoLink","state","videoDetail","prevPath","search","openModel","src","fileUrl","muted","loop","onMouseEnter","onMouseLeave","poster","thumbUrl","container","style","fontWeight","caption","MusicIcon","color","music","concat","user","userName","playLine","userInfo","profileLink","avatarContainer","Image","avatar","alt","img","FaCircleCheck","marginLeft","fontSize","viewCount","FiPlay","verticalAlign","marginRight","viewsCount","id","account","subtitle","name","followersCount","marginTop","bio"],"sourceRoot":""}